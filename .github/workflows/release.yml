name: PR

on:
  workflow_dispatch:
    inputs:
      packageEnv:
        description: 'controls what type of version number is used.'
        required: true
        default: 'nightly'
        type: choice
        options:
        - nightly
        - staging
        - production
      version:
        description: 'semantic version number, like 0.0.1. Do not include suffix data.'
        required: true
        type: string
        
  workflow_call:
    secrets: inherit

jobs:
  rerun-pr-steps:
    uses: Beamable/solana-example/.github/workflows/pr@develop
  build:
    needs: rerun-pr-steps
    timeout-minutes: 30
    runs-on: ubuntu-latest
    concurrency:
      group: release
      cancel-in-progress: true
    steps: 
      - uses: actions/setup-node@v3
        with:
          node-version: 16
      - name: AdjustVersion
        run: 